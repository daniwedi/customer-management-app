<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:munit="http://www.mulesoft.org/schema/mule/munit" xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
		http://www.mulesoft.org/schema/mule/munit-tools  http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd">
	<munit:config name="delete-customer-api-suite.xml" />
	 <munit:test name="delete-customer-api-suiteTest" doc:id="4f052ca7-8199-4bff-9d86-ee375bfa4c95" >
		<munit:behavior >
			<munit:set-event doc:name="Set Event" doc:id="8b668ba8-b749-440e-8dcc-146b0ec11e94" >
				<munit:payload value="#[readUrl('classpath://deletecustomerapiFlowtest\set-event_attributes.dwl')]" />
				<munit:attributes value="#[readUrl('classpath://deletecustomerapiFlowtest\set-event_attributes.dwl')]" />
			</munit:set-event>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow Reference" doc:id="01b3d4bf-d4c3-4630-a283-1c49fd35690d" name="delete-customer-apiFlow"/>
		</munit:execution>
		<munit:validation>
			<munit-tools:assert-that doc:name="Assert that" doc:id="47c4177e-e125-4739-a9e3-a455ecfd71bd" expression="#[payload.message]" is='#[MunitTools::equalTo("The requested id " ++ vars.ClientID ++ "is succesfully deleted ")]'/>
		</munit:validation>
	</munit:test>
 	<munit:test name="delete-customer-api-suiteTest-rais-error" doc:id="4cc070e1-d384-4fea-944a-25f742ac34bc" >
		<munit:behavior >
			<munit:set-event doc:name="Set Event" doc:id="762bcd9f-970c-4829-bf37-74f0ba67bf29" >
				<munit:payload value="#[readUrl('classpath://deletecustomerapiFlowtest\set-event_attributes-no-data.dwl')]" />
				<munit:attributes value="#[readUrl('classpath://deletecustomerapiFlowtest\set-event_attributes-no-data.dwl')]" />

			</munit:set-event>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow Reference" doc:id="b959ab81-4588-4d6f-8769-7e01033c5a3a" name="delete-customer-apiFlow"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-that doc:name="Assert that" doc:id="ec7536f8-0667-4cc9-917a-b564e37cc8a6" is="#[MunitTools::equalTo(204)]" expression="#[vars.httpStatus]"/>
		</munit:validation>
	</munit:test> 
	

</mule>
